{% from 'macros.html' import renderRasterImage %}
{% from 'macros.html' import renderSvgImage %}

{% if this.image or this.diagram %}
    <div class='example'>
{% endif %}

{% if this.image %}
    {% set imageObj = record.attachments.get(this.image) %}
    {{ renderRasterImage(this.image, imageObj, 'example-image') }}
    <!-- <img class="example-image" src="{{ this.image }}"> -->
{% elif this.diagram %}
    {{ renderSvgImage(this.diagram, 'diagram') }}
    <!-- <img class="diagram" src="{{ this.diagram }}"> -->
{% endif %}

<div>
    {% if alt == 'en' %}
        {% set pathFile = this.snippet | url %}
    {% else %}
        {% set pathFile = record.path | url(alt=alt) + alt + '/' + this.snippet + '/' %}
    {% endif %}
    <div class='snippet-download-wrapper'>
        <p class='snippet-download'><a download="{{ pathFile }}" href="{{ pathFile }}">.py</a></p>
    </div>
    <pre data-src="{{ pathFile }} "></pre>
</div>

{% if this.image or this.diagram %}
    </div>
{% endif %}