{% macro renderTocBar(this, category) %}

    <!-- home button! -->
    <ol id='toc-bar'>

        {% if category == 'chapters' %}
            <li>
                <div class="toc-bar-key">&#8199;</div>
                {% if this.alt == 'es' %}
                    <div class="toc-bar-title"><a href="/es">Inicio</a></div>
                {% else %}
                    <div class="toc-bar-title"><a href="/">Home</a></div>
                {% endif %}
            </li>
        {% else %}
            <li>
                <div class="toc-bar-key">&#8199;</div>
                {% if this.alt == 'es' %}
                    <div class="toc-bar-title"><a href="/es/tutorials">Tutoriales</a></div>
                {% else %}
                    <div class="toc-bar-title"><a href="/tutorials">Tutorials</a></div>
                {% endif %}
            </li>
        {% endif %}

        <!-- dynamic part -->
        {% set articles = site.get('/'+category, alt=this.alt).children.order_by('sort_key') %}
        {% for eachArticle in articles %}
            <li>
                <div class="toc-bar-key {% if this._path == eachArticle._path %}toc-bar-active{% endif %}">
                    {% if eachArticle.hasTocNumber %}{{ eachArticle.sort_key }}&#8199;{% endif %}</div>
                <div class="toc-bar-title"><a href="{{ eachArticle|url }}">{{ eachArticle.title }}</a></div>
            </li>
        {% endfor %}

        <!-- empty line -->
        <li>
            <div class="toc-bar-key">&#8199;</div>
        </li>

        <!-- static part -->
        {% if category == 'chapters' %}
            <li>
                <div class="toc-bar-key">&#8199;</div>
                {% if this.alt == 'es' %}
                    <div class="toc-bar-title"><a href="/es/tutorials">Tutoriales</a></div>
                {% else %}
                    <div class="toc-bar-title"><a href="/tutorials">Tutorials</a></div>
                {% endif %}
            </li>
        {% endif %}

        <li>
            <div class="toc-bar-key">&#8199;</div>
            {% if this.alt == 'es' %}
                <div class="toc-bar-title"><a href="/es/online-courses">Cursos en línea</a></div>
            {% else %}
                <div class="toc-bar-title"><a href="/online-courses">Online Courses</a></div>
            {% endif %}
        </li>

        <li>
            <div class="toc-bar-key">&#8199;</div>
            <div class="toc-bar-title"><a href="/impressum">Impressum</a></div>
        </li>

        <button onclick="topFunction()" id="topButton" title="Go to top">↑</button>

    </ol>
{% endmacro %}

{% macro renderPagination(this, category, startingIndex) %}
    <div id="pagination">
        {% set article = site.get('/'+category).children.order_by('sort_key') %}
        {% set lenChapters = article.all()|length %}
        {% if this.sort_key > startingIndex %}
            {% set prevIndex = this.sort_key-1 -startingIndex %}
            {% if this.alt == 'es' %}
                <p id='prevButton'><a href="{{ article.all()[prevIndex].path | url }}">>>> anterior()</a></p>
            {% else %}
                <p id='prevButton'><a href="{{ article.all()[prevIndex].path | url }}">>>> prev()</a></p>
            {% endif %}
        {% endif %}

        {% if this.sort_key < lenChapters-1 +startingIndex %}
            {% set nextIndex = this.sort_key+1 -startingIndex %}
            {% if this.alt == 'es' %}
                <p id='nextButton'><a href="{{ article.all()[nextIndex].path | url }}">>>> siguiente()</a></p>
            {% else %}
                <p id='nextButton'><a href="{{ article.all()[nextIndex].path | url }}">>>> next()</a></p>
            {% endif %}
        {% endif %}
    </div>
{% endmacro %}

{% macro renderRasterImage(imageName, imageObj, imageClass) %}
    <img alt='{{ imageName }}'
         src='{{ imageObj.thumbnail(width=20)|url(alt='en') }}'
         data-sizes="auto"
         data-src='{{ imageObj|url(alt='en') }}'
         class="lazyload {{ imageClass | replace('_', '-') }}"/>
{% endmacro %}

{% macro renderSvgImage(imageName, imageClass) %}
    <img alt='{{ imageName }}'
         src='{{imageName|url(alt='en') }}'
         class="lazyload {{ imageClass | replace('_', '-') }}"/>
{% endmacro %}
